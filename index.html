<html lang="en">
<head>
    <script>
        function calculate() {
            var dosages = [25, 50, 75, 88, 100, 112, 125, 137, 150, 175, 200, 300];
            var too_little = parseInt(document.getElementById("too_little_dropdown").value, 10);
            var too_much = parseInt(document.getElementById("too_much_dropdown").value, 10);
            var arr = new Array(); // array in the form: [total_dosage_per_week, dosage, num_days_per_week]

            for (var i = 0; i < dosages.length; i++) {
                for (var j = 5; j <= 8; j += 0.5) {
                    if (dosages[i] * j > too_little * 7 && dosages[i] * j < too_much * 7) {
                        arr.push([dosages[i] * j, dosages[i], j]);
                    }
                }
            }

            document.getElementById("too_little_reference").innerHTML = "<i>Too Little Weekly Cumulative Dose: " + too_little * 7 + " mcg</i>";
            arr.sort((a,b) => a[0] - b[0]);
            var text = "";
            for (var i = 0; i < arr.length; i++) {
                text += "Take " + arr[i][1] + " mcg " + arr[i][2] + " days a week --> " + arr[i][0] + " mcg <br/>";;
            }
            if (text === "") {
                document.getElementById("results").innerHTML = "No options found! Please check input.";
            } else {
                document.getElementById("results").innerHTML = text;
            }
            document.getElementById("too_much_reference").innerHTML = "<i>Too Much Weekly Cumulative Dose: " + too_much * 7 + " mcg</i>";
        }
    </script>

    <style>
        h1 {
            text-align: center;
            font-size: 40px;
        }
        p, select, input {
            font-size: 20px;
        }
    </style>
</head>

<body style="background-color:beige">
    <h1>Thyroid Dosage Calculator</h1>
    <p>
        Welcome to the thyroid dosage calculator! <br />
        <u>Step 1</u>: Use the top dropdown to select the dosage that is too little. <br />
        <u>Step 2</u>: Use the bottom dropdown to select the dosage that is too much. <br />
        <b>NOTE: This program currently assumes that the medication is taken once per day!</b>
    </p>

    <form>
        <p>Too Little</p>
        <select id="too_little_dropdown" onchange="calculate()">
            <option id="opt1", value=25>25 mcg</option>
            <option id="opt2", value=50>50 mcg</option>
            <option id="opt3", value=75>75 mcg</option>
            <option id="opt4", value=88>88 mcg</option>
            <option id="opt5", value=100>100 mcg</option>
            <option id="opt6", value=112>112 mcg</option>
            <option id="opt7", value=125>125 mcg</option>
            <option id="opt8", value=137>137 mcg</option>
            <option id="opt9", value=150>150 mcg</option>
            <option id="opt10", value=175>175 mcg</option>
            <option id="opt11", value=200>200 mcg</option>
            <option id="opt12", value=300>300 mcg</option>
        </select>

        <p><br />Too Much</p>
        <select id="too_much_dropdown" onchange="calculate()">
            <option id="opt13", value=25>25 mcg</option>
            <option id="opt14", value=50>50 mcg</option>
            <option id="opt15", value=75>75 mcg</option>
            <option id="opt16", value=88>88 mcg</option>
            <option id="opt17", value=100>100 mcg</option>
            <option id="opt18", value=112>112 mcg</option>
            <option id="opt19", value=125>125 mcg</option>
            <option id="opt20", value=137>137 mcg</option>
            <option id="opt21", value=150>150 mcg</option>
            <option id="opt22", value=175>175 mcg</option>
            <option id="opt23", value=200>200 mcg</option>
            <option id="opt24", value=300>300 mcg</option>
        </select>
    </form>

    <p id="result_message"><br />These are the options available:</p>
    <p id="too_little_reference"></p>
    <p id="results"></p>
    <p id="too_much_reference"></p>
</body>
</html>